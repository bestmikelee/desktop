<div class="modal-controller"> <!--ng-controller="modalController" -->
    <div class="modal-button" ng-click="modalToggle()"><i class="modal-icon fa fa-plus"></i></div>
    <div class="modal-fade" ng-class="showModal? 'modal-fade-show' : ''" ng-click="modalToggle()">
        <div class="modal-layout modal-body" ng-click="$event.stopPropagation()">
            <div class="modal-header">
                <span class="modal-form-header">Add New Building/Apartment</span>
            </div>
            <div class="form floating-form floating-form-inverse">
                <div class="form-group">
                    <label class="building-select-header" for="building-select">Select/Add Building</label>
                    <select class="form-control" id="building-select" ng-model="addingType">  <!--ng-options="building.street_name for building in buildings"-->
                        <option value="addbuilding">Add New Building</option>
                        <option value="{{building._id}}" ng-repeat="building in buildings">{{building.street_number}} {{building.street_name}}</option>
                    </select>
                    <div class="modal-layout" ng-if="addingType === 'addbuilding'">

                        <form class="floating-form modal-layout" id="" name="buildingForm" ng-submit="buildingForm.$valid && addBuilding(building)" novalidate>

                            <div class="form-group">
                                <input class="form-control" id="streetNumber" name="street_number" ng-model="building.street_number" placeholder="Enter street number" required type="text">
                            </div>
                            <div class="form-group">
                                <input class="form-control" id="streetName" name="street_name" ng-model="building.street_name" placeholder="Enter street name" required type="text">
                            </div>
                            <div class="form-group">
                                <input class="form-control" id="city" name="city" ng-model="building.city" placeholder="Enter city" required type="text">
                            </div>
                            <div class="form-group">
                                <select class="form-control" name="state" ng-model="building.state" id="state">
                                    <option value="">Select State</option>
                                    <option value="AL">Alabama</option>
                                    <option value="AK">Alaska</option>
                                    <option value="AZ">Arizona</option>
                                    <option value="AR">Arkansas</option>
                                    <option value="CA">California</option>
                                    <option value="CO">Colorado</option>
                                    <option value="CT">Connecticut</option>
                                    <option value="DE">Delaware</option>
                                    <option value="FL">Florida</option>
                                    <option value="GA">Georgia</option>
                                    <option value="HI">Hawaii</option>
                                    <option value="ID">Idaho</option>
                                    <option value="IL">Illinois</option>
                                    <option value="IN">Indiana</option>
                                    <option value="IA">Iowa</option>
                                    <option value="KS">Kansas</option>
                                    <option value="KY">Kentucky</option>
                                    <option value="LA">Louisiana</option>
                                    <option value="ME">Maine</option>
                                    <option value="MD">Maryland</option>
                                    <option value="MA">Massachusetts</option>
                                    <option value="MI">Michigan</option>
                                    <option value="MN">Minnesota</option>
                                    <option value="MS">Mississippi</option>
                                    <option value="MO">Missouri</option>
                                    <option value="MT">Montana</option>
                                    <option value="NE">Nebraska</option>
                                    <option value="NV">Nevada</option>
                                    <option value="NH">New Hampshire</option>
                                    <option value="NJ">New Jersey</option>
                                    <option value="NM">New Mexico</option>
                                    <option value="NY">New York</option>
                                    <option value="NC">North Carolina</option>
                                    <option value="ND">North Dakota</option>
                                    <option value="OH">Ohio</option>
                                    <option value="OK">Oklahoma</option>
                                    <option value="OR">Oregon</option>
                                    <option value="PA">Pennsylvania</option>
                                    <option value="RI">Rhode Island</option>
                                    <option value="SC">South Carolina</option>
                                    <option value="SD">South Dakota</option>
                                    <option value="TN">Tennessee</option>
                                    <option value="TX">Texas</option>
                                    <option value="UT">Utah</option>
                                    <option value="VT">Vermont</option>
                                    <option value="VA">Virginia</option>
                                    <option value="WA">Washington</option>
                                    <option value="WV">West Virginia</option>
                                    <option value="WI">Wisconsin</option>
                                    <option value="WY">Wyoming</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <select class="form-control building-select" ng-model="building.heat_type" id="building-select">  <!--ng-options="building.street_name for building in buildings"-->
                                    <option value="">Select Heat Type</option>
                                    <option value="Oil6">Oil #6</option>
                                    <option value="Oil4">Oil #4</option>
                                    <option value="naturalGas">Natural Gas</option>
                                </select>
                            </div>
                            <div class="form-group modal-layout">
                                <div class="checkbox form-control">
                                    <label>
                                      <input ng-model="building.elevator" type="checkbox"> Elevator
                                    </label>
                                </div>
                            </div>
                            <div class="form-group modal-layout">
                                <div class="checkbox form-control">
                                    <label>
                                      <input ng-model="building.doorman" type="checkbox"> Doorman
                                    </label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="checkbox form-control">
                                    <label>
                                      <input ng-model="building.gym" type="checkbox"> Gym
                                    </label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="checkbox form-control">
                                    <label>
                                      <input ng-model="building.pool" type="checkbox"> Pool
                                    </label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="checkbox form-control">
                                    <label>
                                      <input ng-model="building.parking" type="checkbox"> Parking
                                    </label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="checkbox form-control">
                                    <label>
                                      <input ng-model="building.common_roof" type="checkbox"> Common Roof
                                    </label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="checkbox form-control">
                                    <label>
                                      <input ng-model="building.laundry" type="checkbox"> Laundry
                                    </label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="checkbox form-control">
                                    <label>
                                      <input ng-model="building.pets_allowed" type="checkbox"> Pets Allowed
                                    </label>
                                </div>
                            </div>

                            <button class="btn btn-default login-btn" ng-click="building.submitted=true" type="submit">Submit</button>

                        </form>
                    </div>
                    <div ng-if="addingType && addingType !== 'addbuilding'">

                        <form class="floating-form modal-layout" id="" name="apartmentForm" ng-submit="apartmentForm.$valid && addApartment(apartment)" novalidate>

                            <div class="form-group">
                                <input class="form-control" id="lock_id" name="lock_id" ng-model="apartment.lock_id" placeholder="Lockitron Lock ID" required type="text">
                            </div>
                            <div class="form-group">
                                <input class="form-control" id="unit_number" name="unit_number" ng-model="apartment.unit_number" placeholder="Enter Apartment Unit" required type="text">
                            </div>
                            <div class="form-group">
                                <div class="form-control">
                                <label>
                                    Bedrooms
                                    <input class="" id="bedroom_count" name="bedroom_count" ng-model="apartment.bedroom_count" required type="number">
                                </label>
                            </div>
                            </div>
                            <div class="form-group">
                                <div class="form-control">
                                    <label>Bathrooms
                                        <input id="bathroom_count" name="bathroom_count" ng-model="apartment.bathroom_count" required type="number">
                                    </label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="form-control">
                                    <label>Total Rooms
                                        <input id="total_room_count" name="total_room_count" ng-model="apartment.total_room_count" required type="number">
                                    </label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="form-control">
                                    <label>Square Feet
                                        <input id="sq_ft" name="sq_ft" ng-model="apartment.sq_ft" required type="number">
                                    </label>
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="form-control">
                                    <label>Rent
                                        <input id="rent" name="rent" ng-model="apartment.rent" required type="number">
                                    </label>
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="form-control">
                                    <label>Start Date
                                        <input id="start_date" name="start_date" ng-model="apartment.start_date" required type="date">
                                    </label>
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="form-control">
                                    <label>End Date
                                        <input id="end_date" name="end_date" ng-model="apartment.end_date" required type="date">
                                    </label>
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="form-control">
                                    <span class="lease-btn btn-file">
                                        Upload Lease PDF<input id="photo" name="lease" onchange="angular.element(this).scope().readFile(this)" type="file"/>
                                    </span>&nbsp;
                                    <span class="input-file" ng-if="leaseName">&nbsp;<i class="fa fa-file-pdf-o"></i>&nbsp;{{leaseName}}&nbsp;</span>
                                </div>
                            </div>

                            <button class="submit-btn" type="submit">Submit</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
